{
  "file": "scripts/script40.py",
  "candidates": [
    {
      "kind": "func_entry",
      "line": 19,
      "end_line": 19,
      "function": "is_in_stock",
      "class_name": "Item",
      "code": "def is_in_stock(self, quantity: int = 1) -> bool:",
      "vars_in_scope": [
        "quantity",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 20,
      "end_line": 20,
      "function": "is_in_stock",
      "class_name": "Item",
      "code": "return False",
      "vars_in_scope": [
        "quantity",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 21,
      "end_line": 21,
      "function": "is_in_stock",
      "class_name": "Item",
      "code": "return self.stock >= quantity",
      "vars_in_scope": [
        "quantity",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 24,
      "end_line": 24,
      "function": "reserve",
      "class_name": "Item",
      "code": "def reserve(self, quantity: int) -> bool:",
      "vars_in_scope": [
        "quantity",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 25,
      "end_line": 25,
      "function": "reserve",
      "class_name": "Item",
      "code": "return False",
      "vars_in_scope": [
        "quantity",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 27,
      "end_line": 27,
      "function": "reserve",
      "class_name": "Item",
      "code": "return True",
      "vars_in_scope": [
        "quantity",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 30,
      "end_line": 30,
      "function": "to_dict",
      "class_name": "Item",
      "code": "def to_dict(self) -> Dict[str, Any]:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 30,
      "end_line": 30,
      "function": "to_dict",
      "class_name": "Item",
      "code": "return {'item_id': self.item_id, 'name': self.name, 'category': self.category, 'price': self.price, 'stock': self.stock}",
      "vars_in_scope": [
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 45,
      "end_line": 45,
      "function": "total",
      "class_name": "OrderLine",
      "code": "def total(self, item: Item) -> float:",
      "vars_in_scope": [
        "item",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 46,
      "end_line": 46,
      "function": "total",
      "class_name": "OrderLine",
      "code": "return 0.0",
      "vars_in_scope": [
        "item",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 47,
      "end_line": 47,
      "function": "total",
      "class_name": "OrderLine",
      "code": "return item.price * self.quantity",
      "vars_in_scope": [
        "item",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 59,
      "end_line": 59,
      "function": "total_amount",
      "class_name": "Order",
      "code": "def total_amount(self, items: Dict[str, Item]) -> float:",
      "vars_in_scope": [
        "item",
        "items",
        "self",
        "total"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 65,
      "end_line": 65,
      "function": "total_amount",
      "class_name": "Order",
      "code": "return total",
      "vars_in_scope": [
        "item",
        "items",
        "self",
        "total"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 68,
      "end_line": 68,
      "function": "is_open",
      "class_name": "Order",
      "code": "def is_open(self) -> bool:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 68,
      "end_line": 68,
      "function": "is_open",
      "class_name": "Order",
      "code": "return self.status in {'pending', 'processing'}",
      "vars_in_scope": [
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 76,
      "end_line": 76,
      "function": "add_item",
      "class_name": "Inventory",
      "code": "def add_item(self, item: Item) -> None:",
      "vars_in_scope": [
        "item",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 79,
      "end_line": 79,
      "function": "get",
      "class_name": "Inventory",
      "code": "def get(self, item_id: str) -> Optional[Item]:",
      "vars_in_scope": [
        "item_id",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 79,
      "end_line": 79,
      "function": "get",
      "class_name": "Inventory",
      "code": "return self.items.get(item_id)",
      "vars_in_scope": [
        "item_id",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 82,
      "end_line": 82,
      "function": "all",
      "class_name": "Inventory",
      "code": "def all(self) -> List[Item]:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 82,
      "end_line": 82,
      "function": "all",
      "class_name": "Inventory",
      "code": "return list(self.items.values())",
      "vars_in_scope": [
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 85,
      "end_line": 85,
      "function": "to_dict",
      "class_name": "Inventory",
      "code": "def to_dict(self) -> Dict[str, Any]:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 85,
      "end_line": 85,
      "function": "to_dict",
      "class_name": "Inventory",
      "code": "return {'items': [i.to_dict() for i in self.items.values()]}",
      "vars_in_scope": [
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 90,
      "end_line": 90,
      "function": "__init__",
      "class_name": "OrderProcessor",
      "code": "def __init__(self, inventory: Inventory) -> None:",
      "vars_in_scope": [
        "inventory",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 93,
      "end_line": 93,
      "function": "can_fulfil",
      "class_name": "OrderProcessor",
      "code": "def can_fulfil(self, order: Order) -> bool:",
      "vars_in_scope": [
        "item",
        "order",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 96,
      "end_line": 96,
      "function": "can_fulfil",
      "class_name": "OrderProcessor",
      "code": "return False",
      "vars_in_scope": [
        "item",
        "order",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 97,
      "end_line": 97,
      "function": "can_fulfil",
      "class_name": "OrderProcessor",
      "code": "return True",
      "vars_in_scope": [
        "item",
        "order",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 100,
      "end_line": 100,
      "function": "apply_order",
      "class_name": "OrderProcessor",
      "code": "def apply_order(self, order: Order) -> bool:",
      "vars_in_scope": [
        "item",
        "order",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 101,
      "end_line": 101,
      "function": "apply_order",
      "class_name": "OrderProcessor",
      "code": "return False",
      "vars_in_scope": [
        "item",
        "order",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 104,
      "end_line": 104,
      "function": "apply_order",
      "class_name": "OrderProcessor",
      "code": "return False",
      "vars_in_scope": [
        "item",
        "order",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 109,
      "end_line": 109,
      "function": "apply_order",
      "class_name": "OrderProcessor",
      "code": "return False",
      "vars_in_scope": [
        "item",
        "order",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 112,
      "end_line": 112,
      "function": "apply_order",
      "class_name": "OrderProcessor",
      "code": "return False",
      "vars_in_scope": [
        "item",
        "order",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 114,
      "end_line": 114,
      "function": "apply_order",
      "class_name": "OrderProcessor",
      "code": "return True",
      "vars_in_scope": [
        "item",
        "order",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 118,
      "end_line": 118,
      "function": "load_inventory",
      "class_name": null,
      "code": "def load_inventory(path: Path) -> Inventory:",
      "vars_in_scope": [
        "data",
        "inv",
        "item",
        "path"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 119,
      "end_line": 119,
      "function": "load_inventory",
      "class_name": null,
      "code": "return Inventory()",
      "vars_in_scope": [
        "data",
        "inv",
        "item",
        "path"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "except",
      "line": 124,
      "end_line": 124,
      "function": "load_inventory",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "data",
        "inv",
        "item",
        "path"
      ],
      "why": "inside except",
      "severity_hint": "ERROR"
    },
    {
      "kind": "before_return",
      "line": 124,
      "end_line": 124,
      "function": "load_inventory",
      "class_name": null,
      "code": "return Inventory()",
      "vars_in_scope": [
        "data",
        "inv",
        "item",
        "path"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "except",
      "line": 136,
      "end_line": 136,
      "function": "load_inventory",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "data",
        "inv",
        "item",
        "path"
      ],
      "why": "inside except",
      "severity_hint": "ERROR"
    },
    {
      "kind": "before_return",
      "line": 138,
      "end_line": 138,
      "function": "load_inventory",
      "class_name": null,
      "code": "return inv",
      "vars_in_scope": [
        "data",
        "inv",
        "item",
        "path"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 142,
      "end_line": 142,
      "function": "load_orders",
      "class_name": null,
      "code": "def load_orders(path: Path) -> List[Order]:",
      "vars_in_scope": [
        "created_at",
        "customer_id",
        "data",
        "item_id",
        "lines",
        "order_id",
        "path",
        "quantity",
        "result"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 143,
      "end_line": 143,
      "function": "load_orders",
      "class_name": null,
      "code": "return []",
      "vars_in_scope": [
        "created_at",
        "customer_id",
        "data",
        "item_id",
        "lines",
        "order_id",
        "path",
        "quantity",
        "result"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "except",
      "line": 148,
      "end_line": 148,
      "function": "load_orders",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "created_at",
        "customer_id",
        "data",
        "item_id",
        "lines",
        "order_id",
        "path",
        "quantity",
        "result"
      ],
      "why": "inside except",
      "severity_hint": "ERROR"
    },
    {
      "kind": "before_return",
      "line": 148,
      "end_line": 148,
      "function": "load_orders",
      "class_name": null,
      "code": "return []",
      "vars_in_scope": [
        "created_at",
        "customer_id",
        "data",
        "item_id",
        "lines",
        "order_id",
        "path",
        "quantity",
        "result"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "except",
      "line": 161,
      "end_line": 161,
      "function": "load_orders",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "created_at",
        "customer_id",
        "data",
        "item_id",
        "lines",
        "order_id",
        "path",
        "quantity",
        "result"
      ],
      "why": "inside except",
      "severity_hint": "ERROR"
    },
    {
      "kind": "before_return",
      "line": 163,
      "end_line": 163,
      "function": "load_orders",
      "class_name": null,
      "code": "return result",
      "vars_in_scope": [
        "created_at",
        "customer_id",
        "data",
        "item_id",
        "lines",
        "order_id",
        "path",
        "quantity",
        "result"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 167,
      "end_line": 167,
      "function": "save_inventory",
      "class_name": null,
      "code": "def save_inventory(path: Path, inventory: Inventory) -> None:",
      "vars_in_scope": [
        "inventory",
        "path"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 173,
      "end_line": 173,
      "function": "summarize_orders",
      "class_name": null,
      "code": "def summarize_orders(orders: Iterable[Order], inventory: Inventory) -> Dict[str, Any]:",
      "vars_in_scope": [
        "inventory",
        "orders",
        "summary"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 185,
      "end_line": 185,
      "function": "summarize_orders",
      "class_name": null,
      "code": "return summary",
      "vars_in_scope": [
        "inventory",
        "orders",
        "summary"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 189,
      "end_line": 189,
      "function": "find_high_value_orders",
      "class_name": null,
      "code": "def find_high_value_orders(orders: Iterable[Order], inventory: Inventory, threshold: float) -> List[Tuple[str, float]]:",
      "vars_in_scope": [
        "amount",
        "inventory",
        "orders",
        "result",
        "threshold"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 194,
      "end_line": 194,
      "function": "find_high_value_orders",
      "class_name": null,
      "code": "return result",
      "vars_in_scope": [
        "amount",
        "inventory",
        "orders",
        "result",
        "threshold"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 198,
      "end_line": 198,
      "function": "group_orders_by_customer",
      "class_name": null,
      "code": "def group_orders_by_customer(orders: Iterable[Order]) -> Dict[str, List[Order]]:",
      "vars_in_scope": [
        "grouped",
        "orders"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 201,
      "end_line": 201,
      "function": "group_orders_by_customer",
      "class_name": null,
      "code": "return grouped",
      "vars_in_scope": [
        "grouped",
        "orders"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 205,
      "end_line": 205,
      "function": "export_report",
      "class_name": null,
      "code": "def export_report(path: Path, summary: Dict[str, Any], high_value: List[Tuple[str, float]]) -> None:",
      "vars_in_scope": [
        "high_value",
        "path",
        "payload",
        "summary"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 215,
      "end_line": 215,
      "function": "load_config",
      "class_name": null,
      "code": "def load_config(path: Path) -> Dict[str, Any]:",
      "vars_in_scope": [
        "path"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 216,
      "end_line": 216,
      "function": "load_config",
      "class_name": null,
      "code": "return {}",
      "vars_in_scope": [
        "path"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 219,
      "end_line": 219,
      "function": "load_config",
      "class_name": null,
      "code": "return json.load(f)",
      "vars_in_scope": [
        "path"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "except",
      "line": 221,
      "end_line": 221,
      "function": "load_config",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "path"
      ],
      "why": "inside except",
      "severity_hint": "ERROR"
    },
    {
      "kind": "before_return",
      "line": 221,
      "end_line": 221,
      "function": "load_config",
      "class_name": null,
      "code": "return {}",
      "vars_in_scope": [
        "path"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 225,
      "end_line": 225,
      "function": "main",
      "class_name": null,
      "code": "def main(base_dir: str = \"data\") -> int:",
      "vars_in_scope": [
        "base",
        "base_dir",
        "cfg",
        "config_path",
        "count",
        "groups",
        "high_value",
        "inv_path",
        "inventory",
        "orders",
        "orders_path",
        "processor",
        "report_path",
        "summary",
        "threshold"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 234,
      "end_line": 234,
      "function": "main",
      "class_name": null,
      "code": "return 1",
      "vars_in_scope": [
        "base",
        "base_dir",
        "cfg",
        "config_path",
        "count",
        "groups",
        "high_value",
        "inv_path",
        "inventory",
        "orders",
        "orders_path",
        "processor",
        "report_path",
        "summary",
        "threshold"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 260,
      "end_line": 260,
      "function": "main",
      "class_name": null,
      "code": "return 0",
      "vars_in_scope": [
        "base",
        "base_dir",
        "cfg",
        "config_path",
        "count",
        "groups",
        "high_value",
        "inv_path",
        "inventory",
        "orders",
        "orders_path",
        "processor",
        "report_path",
        "summary",
        "threshold"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    }
  ]
}