{
  "file": "scripts\\script100.py",
  "candidates": [
    {
      "kind": "func_entry",
      "line": 20,
      "end_line": 20,
      "function": "is_active",
      "class_name": "Profile",
      "code": "def is_active(self, hours: int = 24) -> bool:",
      "vars_in_scope": [
        "cutoff",
        "hours",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 21,
      "end_line": 21,
      "function": "is_active",
      "class_name": "Profile",
      "code": "return False",
      "vars_in_scope": [
        "cutoff",
        "hours",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 24,
      "end_line": 24,
      "function": "is_active",
      "class_name": "Profile",
      "code": "return False",
      "vars_in_scope": [
        "cutoff",
        "hours",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 25,
      "end_line": 25,
      "function": "is_active",
      "class_name": "Profile",
      "code": "return True",
      "vars_in_scope": [
        "cutoff",
        "hours",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 28,
      "end_line": 28,
      "function": "update_last_seen",
      "class_name": "Profile",
      "code": "def update_last_seen(self) -> None:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 31,
      "end_line": 31,
      "function": "to_dict",
      "class_name": "Profile",
      "code": "def to_dict(self) -> Dict[str, Any]:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 31,
      "end_line": 31,
      "function": "to_dict",
      "class_name": "Profile",
      "code": "return {'user_id': self.user_id, 'name': self.name, 'active': self.active, 'last_seen': self.last_seen.isoformat(), 'topics': list(self.topics)}",
      "vars_in_scope": [
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 41,
      "end_line": 41,
      "function": "from_dict",
      "class_name": "Profile",
      "code": "def from_dict(cls, raw: Dict[str, Any]) -> Optional[\"Profile\"]:",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 44,
      "end_line": 44,
      "function": "from_dict",
      "class_name": "Profile",
      "code": "return cls(user_id=str(raw.get('user_id', '')), name=str(raw.get('name', '')), active=bool(raw.get('active', True)), last_seen=ts, topics=list(raw.get('topics', [])))",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "except",
      "line": 52,
      "end_line": 52,
      "function": "from_dict",
      "class_name": "Profile",
      "code": "except ...",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "inside except",
      "severity_hint": "ERROR"
    },
    {
      "kind": "before_return",
      "line": 52,
      "end_line": 52,
      "function": "from_dict",
      "class_name": "Profile",
      "code": "return None",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 64,
      "end_line": 64,
      "function": "is_recent",
      "class_name": "Article",
      "code": "def is_recent(self, days: int = 3) -> bool:",
      "vars_in_scope": [
        "cutoff",
        "days",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 66,
      "end_line": 66,
      "function": "is_recent",
      "class_name": "Article",
      "code": "return False",
      "vars_in_scope": [
        "cutoff",
        "days",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 67,
      "end_line": 67,
      "function": "is_recent",
      "class_name": "Article",
      "code": "return True",
      "vars_in_scope": [
        "cutoff",
        "days",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 70,
      "end_line": 70,
      "function": "matches_topics",
      "class_name": "Article",
      "code": "def matches_topics(self, topics: Iterable[str]) -> bool:",
      "vars_in_scope": [
        "self",
        "topics",
        "topics_l"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 72,
      "end_line": 72,
      "function": "matches_topics",
      "class_name": "Article",
      "code": "return True",
      "vars_in_scope": [
        "self",
        "topics",
        "topics_l"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 74,
      "end_line": 74,
      "function": "matches_topics",
      "class_name": "Article",
      "code": "return True",
      "vars_in_scope": [
        "self",
        "topics",
        "topics_l"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 75,
      "end_line": 75,
      "function": "matches_topics",
      "class_name": "Article",
      "code": "return any((t in self.title.lower() for t in topics_l))",
      "vars_in_scope": [
        "self",
        "topics",
        "topics_l"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 78,
      "end_line": 78,
      "function": "to_dict",
      "class_name": "Article",
      "code": "def to_dict(self) -> Dict[str, Any]:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 78,
      "end_line": 78,
      "function": "to_dict",
      "class_name": "Article",
      "code": "return {'article_id': self.article_id, 'title': self.title, 'topic': self.topic, 'published_at': self.published_at.isoformat(), 'score': self.score}",
      "vars_in_scope": [
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 88,
      "end_line": 88,
      "function": "from_dict",
      "class_name": "Article",
      "code": "def from_dict(cls, raw: Dict[str, Any]) -> Optional[\"Article\"]:",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 91,
      "end_line": 91,
      "function": "from_dict",
      "class_name": "Article",
      "code": "return cls(article_id=str(raw.get('article_id', '')), title=str(raw.get('title', '')), topic=str(raw.get('topic', '')), published_at=ts, score=float(raw.get('score', 0.0)))",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "except",
      "line": 99,
      "end_line": 99,
      "function": "from_dict",
      "class_name": "Article",
      "code": "except ...",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "inside except",
      "severity_hint": "ERROR"
    },
    {
      "kind": "before_return",
      "line": 99,
      "end_line": 99,
      "function": "from_dict",
      "class_name": "Article",
      "code": "return None",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 108,
      "end_line": 108,
      "function": "add_article",
      "class_name": "RecommendationSession",
      "code": "def add_article(self, article: Article) -> None:",
      "vars_in_scope": [
        "article",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 111,
      "end_line": 111,
      "function": "personalized_feed",
      "class_name": "RecommendationSession",
      "code": "def personalized_feed(self, limit: int = 10) -> List[Article]:",
      "vars_in_scope": [
        "filtered",
        "limit",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 112,
      "end_line": 112,
      "function": "personalized_feed",
      "class_name": "RecommendationSession",
      "code": "return []",
      "vars_in_scope": [
        "filtered",
        "limit",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 118,
      "end_line": 118,
      "function": "personalized_feed",
      "class_name": "RecommendationSession",
      "code": "return filtered[:limit]",
      "vars_in_scope": [
        "filtered",
        "limit",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 121,
      "end_line": 121,
      "function": "summarize",
      "class_name": "RecommendationSession",
      "code": "def summarize(self) -> Dict[str, Any]:",
      "vars_in_scope": [
        "feed",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 122,
      "end_line": 122,
      "function": "summarize",
      "class_name": "RecommendationSession",
      "code": "return {'user_id': self.profile.user_id, 'feed_count': len(feed), 'topics': list(self.profile.topics), 'top_titles': [a.title for a in feed]}",
      "vars_in_scope": [
        "feed",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 132,
      "end_line": 132,
      "function": "__init__",
      "class_name": "RemoteCatalog",
      "code": "def __init__(self, base_url: str, timeout: int = 5) -> None:",
      "vars_in_scope": [
        "base_url",
        "self",
        "timeout"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 136,
      "end_line": 136,
      "function": "_url",
      "class_name": "RemoteCatalog",
      "code": "def _url(self, path: str) -> str:",
      "vars_in_scope": [
        "path",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 137,
      "end_line": 137,
      "function": "_url",
      "class_name": "RemoteCatalog",
      "code": "return ''",
      "vars_in_scope": [
        "path",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 138,
      "end_line": 138,
      "function": "_url",
      "class_name": "RemoteCatalog",
      "code": "return f\"{self.base_url}/{path.lstrip('/')}\"",
      "vars_in_scope": [
        "path",
        "self"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 141,
      "end_line": 141,
      "function": "fetch_articles",
      "class_name": "RemoteCatalog",
      "code": "def fetch_articles(self, topic: Optional[str] = None) -> List[Dict[str, Any]]:",
      "vars_in_scope": [
        "data",
        "req",
        "self",
        "text",
        "topic",
        "url"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 146,
      "end_line": 146,
      "function": "fetch_articles",
      "class_name": "RemoteCatalog",
      "code": "return []",
      "vars_in_scope": [
        "data",
        "req",
        "self",
        "text",
        "topic",
        "url"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 153,
      "end_line": 153,
      "function": "fetch_articles",
      "class_name": "RemoteCatalog",
      "code": "return []",
      "vars_in_scope": [
        "data",
        "req",
        "self",
        "text",
        "topic",
        "url"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 154,
      "end_line": 154,
      "function": "fetch_articles",
      "class_name": "RemoteCatalog",
      "code": "return [d for d in data if isinstance(d, dict)]",
      "vars_in_scope": [
        "data",
        "req",
        "self",
        "text",
        "topic",
        "url"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "except",
      "line": 156,
      "end_line": 156,
      "function": "fetch_articles",
      "class_name": "RemoteCatalog",
      "code": "except ...",
      "vars_in_scope": [
        "data",
        "req",
        "self",
        "text",
        "topic",
        "url"
      ],
      "why": "inside except",
      "severity_hint": "ERROR"
    },
    {
      "kind": "before_return",
      "line": 156,
      "end_line": 156,
      "function": "fetch_articles",
      "class_name": "RemoteCatalog",
      "code": "return []",
      "vars_in_scope": [
        "data",
        "req",
        "self",
        "text",
        "topic",
        "url"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 160,
      "end_line": 160,
      "function": "load_profiles",
      "class_name": null,
      "code": "def load_profiles(path: Path) -> List[Profile]:",
      "vars_in_scope": [
        "p",
        "path",
        "raw",
        "result",
        "text"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 161,
      "end_line": 161,
      "function": "load_profiles",
      "class_name": null,
      "code": "return []",
      "vars_in_scope": [
        "p",
        "path",
        "raw",
        "result",
        "text"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 166,
      "end_line": 166,
      "function": "load_profiles",
      "class_name": null,
      "code": "return []",
      "vars_in_scope": [
        "p",
        "path",
        "raw",
        "result",
        "text"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 172,
      "end_line": 172,
      "function": "load_profiles",
      "class_name": null,
      "code": "return result",
      "vars_in_scope": [
        "p",
        "path",
        "raw",
        "result",
        "text"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "except",
      "line": 174,
      "end_line": 174,
      "function": "load_profiles",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "p",
        "path",
        "raw",
        "result",
        "text"
      ],
      "why": "inside except",
      "severity_hint": "ERROR"
    },
    {
      "kind": "before_return",
      "line": 174,
      "end_line": 174,
      "function": "load_profiles",
      "class_name": null,
      "code": "return []",
      "vars_in_scope": [
        "p",
        "path",
        "raw",
        "result",
        "text"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 178,
      "end_line": 178,
      "function": "save_profiles",
      "class_name": null,
      "code": "def save_profiles(path: Path, profiles: List[Profile]) -> None:",
      "vars_in_scope": [
        "path",
        "payload",
        "profiles",
        "tmp"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "except",
      "line": 184,
      "end_line": 184,
      "function": "save_profiles",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "path",
        "payload",
        "profiles",
        "tmp"
      ],
      "why": "inside except",
      "severity_hint": "ERROR"
    },
    {
      "kind": "before_return",
      "line": 184,
      "end_line": 184,
      "function": "save_profiles",
      "class_name": null,
      "code": "return",
      "vars_in_scope": [
        "path",
        "payload",
        "profiles",
        "tmp"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 188,
      "end_line": 188,
      "function": "parse_articles",
      "class_name": null,
      "code": "def parse_articles(raw: Iterable[Dict[str, Any]]) -> List[Article]:",
      "vars_in_scope": [
        "art",
        "out",
        "raw"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 193,
      "end_line": 193,
      "function": "parse_articles",
      "class_name": null,
      "code": "return out",
      "vars_in_scope": [
        "art",
        "out",
        "raw"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 197,
      "end_line": 197,
      "function": "build_recommendations",
      "class_name": null,
      "code": "def build_recommendations(profile: Profile, catalog: RemoteCatalog) -> RecommendationSession:",
      "vars_in_scope": [
        "catalog",
        "profile",
        "raw",
        "session",
        "topics"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 203,
      "end_line": 203,
      "function": "build_recommendations",
      "class_name": null,
      "code": "return session",
      "vars_in_scope": [
        "catalog",
        "profile",
        "raw",
        "session",
        "topics"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 207,
      "end_line": 207,
      "function": "write_summary",
      "class_name": null,
      "code": "def write_summary(path: Path, summary: Dict[str, Any]) -> bool:",
      "vars_in_scope": [
        "path",
        "summary",
        "tmp"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 211,
      "end_line": 211,
      "function": "write_summary",
      "class_name": null,
      "code": "return True",
      "vars_in_scope": [
        "path",
        "summary",
        "tmp"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "except",
      "line": 213,
      "end_line": 213,
      "function": "write_summary",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "path",
        "summary",
        "tmp"
      ],
      "why": "inside except",
      "severity_hint": "ERROR"
    },
    {
      "kind": "before_return",
      "line": 213,
      "end_line": 213,
      "function": "write_summary",
      "class_name": null,
      "code": "return False",
      "vars_in_scope": [
        "path",
        "summary",
        "tmp"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 217,
      "end_line": 217,
      "function": "main",
      "class_name": null,
      "code": "def main(config_path: str = \"reco_config.json\") -> int:",
      "vars_in_scope": [
        "base_url",
        "catalog",
        "cfg",
        "cfg_file",
        "cfg_raw",
        "config_path",
        "profiles",
        "profiles_path",
        "retries",
        "selected",
        "session",
        "summary",
        "summary_path",
        "user_id"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "before_return",
      "line": 219,
      "end_line": 219,
      "function": "main",
      "class_name": null,
      "code": "return 1",
      "vars_in_scope": [
        "base_url",
        "catalog",
        "cfg",
        "cfg_file",
        "cfg_raw",
        "config_path",
        "profiles",
        "profiles_path",
        "retries",
        "selected",
        "session",
        "summary",
        "summary_path",
        "user_id"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "except",
      "line": 224,
      "end_line": 224,
      "function": "main",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "base_url",
        "catalog",
        "cfg",
        "cfg_file",
        "cfg_raw",
        "config_path",
        "profiles",
        "profiles_path",
        "retries",
        "selected",
        "session",
        "summary",
        "summary_path",
        "user_id"
      ],
      "why": "inside except",
      "severity_hint": "ERROR"
    },
    {
      "kind": "before_return",
      "line": 224,
      "end_line": 224,
      "function": "main",
      "class_name": null,
      "code": "return 1",
      "vars_in_scope": [
        "base_url",
        "catalog",
        "cfg",
        "cfg_file",
        "cfg_raw",
        "config_path",
        "profiles",
        "profiles_path",
        "retries",
        "selected",
        "session",
        "summary",
        "summary_path",
        "user_id"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 234,
      "end_line": 234,
      "function": "main",
      "class_name": null,
      "code": "return 1",
      "vars_in_scope": [
        "base_url",
        "catalog",
        "cfg",
        "cfg_file",
        "cfg_raw",
        "config_path",
        "profiles",
        "profiles_path",
        "retries",
        "selected",
        "session",
        "summary",
        "summary_path",
        "user_id"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 248,
      "end_line": 248,
      "function": "main",
      "class_name": null,
      "code": "return 1",
      "vars_in_scope": [
        "base_url",
        "catalog",
        "cfg",
        "cfg_file",
        "cfg_raw",
        "config_path",
        "profiles",
        "profiles_path",
        "retries",
        "selected",
        "session",
        "summary",
        "summary_path",
        "user_id"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 252,
      "end_line": 252,
      "function": "main",
      "class_name": null,
      "code": "return 1",
      "vars_in_scope": [
        "base_url",
        "catalog",
        "cfg",
        "cfg_file",
        "cfg_raw",
        "config_path",
        "profiles",
        "profiles_path",
        "retries",
        "selected",
        "session",
        "summary",
        "summary_path",
        "user_id"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    },
    {
      "kind": "before_return",
      "line": 254,
      "end_line": 254,
      "function": "main",
      "class_name": null,
      "code": "return 0",
      "vars_in_scope": [
        "base_url",
        "catalog",
        "cfg",
        "cfg_file",
        "cfg_raw",
        "config_path",
        "profiles",
        "profiles_path",
        "retries",
        "selected",
        "session",
        "summary",
        "summary_path",
        "user_id"
      ],
      "why": "before return",
      "severity_hint": "INFO"
    }
  ]
}