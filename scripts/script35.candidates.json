{
  "file": "scripts/script35.py",
  "candidates": [
    {
      "kind": "func_entry",
      "line": 17,
      "end_line": 17,
      "function": "popularity_score",
      "class_name": "Article",
      "code": "def popularity_score(self) -> float:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 19,
      "end_line": 19,
      "function": "popularity_score",
      "class_name": "Article",
      "code": "return float(self.likes)",
      "vars_in_scope": [
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "return_stmt",
      "line": 20,
      "end_line": 20,
      "function": "popularity_score",
      "class_name": "Article",
      "code": "return self.likes / self.views * 100.0",
      "vars_in_scope": [
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 22,
      "end_line": 22,
      "function": "to_dict",
      "class_name": "Article",
      "code": "def to_dict(self) -> Dict[str, Any]:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 23,
      "end_line": 23,
      "function": "to_dict",
      "class_name": "Article",
      "code": "return {'article_id': self.article_id, 'title': self.title, 'category': self.category, 'views': self.views, 'likes': self.likes}",
      "vars_in_scope": [
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 40,
      "end_line": 40,
      "function": "__init__",
      "class_name": "ArticleStore",
      "code": "def __init__(self, path: Path) -> None:",
      "vars_in_scope": [
        "path",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 44,
      "end_line": 44,
      "function": "load",
      "class_name": "ArticleStore",
      "code": "def load(self) -> None:",
      "vars_in_scope": [
        "aid",
        "arts",
        "cat",
        "data",
        "likes",
        "self",
        "title",
        "views"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 47,
      "end_line": 47,
      "function": "load",
      "class_name": "ArticleStore",
      "code": "return",
      "vars_in_scope": [
        "aid",
        "arts",
        "cat",
        "data",
        "likes",
        "self",
        "title",
        "views"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "exception_handler_entry",
      "line": 51,
      "end_line": 51,
      "function": "load",
      "class_name": "ArticleStore",
      "code": "except ...",
      "vars_in_scope": [
        "aid",
        "arts",
        "cat",
        "data",
        "likes",
        "self",
        "title",
        "views"
      ],
      "why": "exception handler enry",
      "severity_hint": "ERROR"
    },
    {
      "kind": "return_stmt",
      "line": 53,
      "end_line": 53,
      "function": "load",
      "class_name": "ArticleStore",
      "code": "return",
      "vars_in_scope": [
        "aid",
        "arts",
        "cat",
        "data",
        "likes",
        "self",
        "title",
        "views"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "exception_handler_entry",
      "line": 62,
      "end_line": 62,
      "function": "load",
      "class_name": "ArticleStore",
      "code": "except ...",
      "vars_in_scope": [
        "aid",
        "arts",
        "cat",
        "data",
        "likes",
        "self",
        "title",
        "views"
      ],
      "why": "exception handler enry",
      "severity_hint": "ERROR"
    },
    {
      "kind": "func_entry",
      "line": 67,
      "end_line": 67,
      "function": "save",
      "class_name": "ArticleStore",
      "code": "def save(self) -> None:",
      "vars_in_scope": [
        "payload",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 73,
      "end_line": 73,
      "function": "get",
      "class_name": "ArticleStore",
      "code": "def get(self, article_id: str) -> Optional[Article]:",
      "vars_in_scope": [
        "article_id",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 74,
      "end_line": 74,
      "function": "get",
      "class_name": "ArticleStore",
      "code": "return self._articles.get(article_id)",
      "vars_in_scope": [
        "article_id",
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 76,
      "end_line": 76,
      "function": "all",
      "class_name": "ArticleStore",
      "code": "def all(self) -> List[Article]:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 77,
      "end_line": 77,
      "function": "all",
      "class_name": "ArticleStore",
      "code": "return list(self._articles.values())",
      "vars_in_scope": [
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 81,
      "end_line": 81,
      "function": "__init__",
      "class_name": "UserHistoryStore",
      "code": "def __init__(self, path: Path) -> None:",
      "vars_in_scope": [
        "path",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 84,
      "end_line": 84,
      "function": "load",
      "class_name": "UserHistoryStore",
      "code": "def load(self) -> Dict[str, List[str]]:",
      "vars_in_scope": [
        "data",
        "ids",
        "result",
        "self",
        "uid"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 86,
      "end_line": 86,
      "function": "load",
      "class_name": "UserHistoryStore",
      "code": "return {}",
      "vars_in_scope": [
        "data",
        "ids",
        "result",
        "self",
        "uid"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "exception_handler_entry",
      "line": 90,
      "end_line": 90,
      "function": "load",
      "class_name": "UserHistoryStore",
      "code": "except ...",
      "vars_in_scope": [
        "data",
        "ids",
        "result",
        "self",
        "uid"
      ],
      "why": "exception handler enry",
      "severity_hint": "ERROR"
    },
    {
      "kind": "return_stmt",
      "line": 91,
      "end_line": 91,
      "function": "load",
      "class_name": "UserHistoryStore",
      "code": "return {}",
      "vars_in_scope": [
        "data",
        "ids",
        "result",
        "self",
        "uid"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "return_stmt",
      "line": 99,
      "end_line": 99,
      "function": "load",
      "class_name": "UserHistoryStore",
      "code": "return result",
      "vars_in_scope": [
        "data",
        "ids",
        "result",
        "self",
        "uid"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 102,
      "end_line": 102,
      "function": "sort_articles_by_popularity",
      "class_name": null,
      "code": "def sort_articles_by_popularity(articles: Iterable[Article]) -> List[Article]:",
      "vars_in_scope": [
        "articles"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 103,
      "end_line": 103,
      "function": "sort_articles_by_popularity",
      "class_name": null,
      "code": "return sorted(articles, key=lambda a: a.popularity_score(), reverse=True)",
      "vars_in_scope": [
        "articles"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 106,
      "end_line": 106,
      "function": "build_recommendations_for_user",
      "class_name": null,
      "code": "def build_recommendations_for_user(",
      "vars_in_scope": [
        "articles",
        "candidates",
        "history",
        "limit",
        "ranked",
        "recs",
        "user_id"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 117,
      "end_line": 117,
      "function": "build_recommendations_for_user",
      "class_name": null,
      "code": "return recs",
      "vars_in_scope": [
        "articles",
        "candidates",
        "history",
        "limit",
        "ranked",
        "recs",
        "user_id"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 120,
      "end_line": 120,
      "function": "build_recommendations",
      "class_name": null,
      "code": "def build_recommendations(",
      "vars_in_scope": [
        "all_recs",
        "articles",
        "histories",
        "limit",
        "recs"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 129,
      "end_line": 129,
      "function": "build_recommendations",
      "class_name": null,
      "code": "return all_recs",
      "vars_in_scope": [
        "all_recs",
        "articles",
        "histories",
        "limit",
        "recs"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 132,
      "end_line": 132,
      "function": "export_recommendations",
      "class_name": null,
      "code": "def export_recommendations(path: Path, recs: List[Recommendation]) -> None:",
      "vars_in_scope": [
        "path",
        "payload",
        "recs"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 142,
      "end_line": 142,
      "function": "compute_category_stats",
      "class_name": null,
      "code": "def compute_category_stats(articles: List[Article]) -> Dict[str, Any]:",
      "vars_in_scope": [
        "articles",
        "cat",
        "entry",
        "likes",
        "stats",
        "views"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 157,
      "end_line": 157,
      "function": "compute_category_stats",
      "class_name": null,
      "code": "return stats",
      "vars_in_scope": [
        "articles",
        "cat",
        "entry",
        "likes",
        "stats",
        "views"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 160,
      "end_line": 160,
      "function": "export_category_stats",
      "class_name": null,
      "code": "def export_category_stats(path: Path, stats: Dict[str, Any]) -> None:",
      "vars_in_scope": [
        "path",
        "stats"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 166,
      "end_line": 166,
      "function": "load_config",
      "class_name": null,
      "code": "def load_config(path: Path) -> Dict[str, Any]:",
      "vars_in_scope": [
        "path"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 168,
      "end_line": 168,
      "function": "load_config",
      "class_name": null,
      "code": "return {}",
      "vars_in_scope": [
        "path"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "return_stmt",
      "line": 171,
      "end_line": 171,
      "function": "load_config",
      "class_name": null,
      "code": "return json.load(f)",
      "vars_in_scope": [
        "path"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "exception_handler_entry",
      "line": 172,
      "end_line": 172,
      "function": "load_config",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "path"
      ],
      "why": "exception handler enry",
      "severity_hint": "ERROR"
    },
    {
      "kind": "return_stmt",
      "line": 173,
      "end_line": 173,
      "function": "load_config",
      "class_name": null,
      "code": "return {}",
      "vars_in_scope": [
        "path"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 176,
      "end_line": 176,
      "function": "main",
      "class_name": null,
      "code": "def main() -> int:",
      "vars_in_scope": [
        "_",
        "articles",
        "articles_path",
        "base",
        "cfg",
        "config_path",
        "histories",
        "history_path",
        "history_store",
        "recs",
        "recs_path",
        "stats",
        "stats_path",
        "store"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 187,
      "end_line": 187,
      "function": "main",
      "class_name": null,
      "code": "return 1",
      "vars_in_scope": [
        "_",
        "articles",
        "articles_path",
        "base",
        "cfg",
        "config_path",
        "histories",
        "history_path",
        "history_store",
        "recs",
        "recs_path",
        "stats",
        "stats_path",
        "store"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "return_stmt",
      "line": 203,
      "end_line": 203,
      "function": "main",
      "class_name": null,
      "code": "return 0",
      "vars_in_scope": [
        "_",
        "articles",
        "articles_path",
        "base",
        "cfg",
        "config_path",
        "histories",
        "history_path",
        "history_store",
        "recs",
        "recs_path",
        "stats",
        "stats_path",
        "store"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    }
  ]
}