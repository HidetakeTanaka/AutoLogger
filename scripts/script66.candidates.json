{
  "file": "scripts\\script66.py",
  "candidates": [
    {
      "kind": "func_entry",
      "line": 20,
      "end_line": 20,
      "function": "is_recent",
      "class_name": "Reading",
      "code": "def is_recent(self, minutes: int = 60) -> bool:",
      "vars_in_scope": [
        "minutes",
        "ref",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 22,
      "end_line": 22,
      "function": "is_recent",
      "class_name": "Reading",
      "code": "return self.timestamp >= ref",
      "vars_in_scope": [
        "minutes",
        "ref",
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 24,
      "end_line": 24,
      "function": "to_dict",
      "class_name": "Reading",
      "code": "def to_dict(self) -> Dict[str, Any]:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 25,
      "end_line": 25,
      "function": "to_dict",
      "class_name": "Reading",
      "code": "return {'station_id': self.station_id, 'timestamp': self.timestamp.isoformat(), 'temperature': self.temperature, 'humidity': self.humidity}",
      "vars_in_scope": [
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 33,
      "end_line": 33,
      "function": "from_dict",
      "class_name": "Reading",
      "code": "def from_dict(cls, raw: Dict[str, Any]) -> Optional[\"Reading\"]:",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 37,
      "end_line": 37,
      "function": "from_dict",
      "class_name": "Reading",
      "code": "return None",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "return_stmt",
      "line": 39,
      "end_line": 39,
      "function": "from_dict",
      "class_name": "Reading",
      "code": "return cls(station_id=str(raw.get('station_id', '')), timestamp=ts, temperature=float(raw.get('temperature', 0.0)), humidity=float(raw.get('humidity', 0.0)))",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "exception_handler_entry",
      "line": 45,
      "end_line": 45,
      "function": "from_dict",
      "class_name": "Reading",
      "code": "except ...",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "exception handler enry",
      "severity_hint": "ERROR"
    },
    {
      "kind": "return_stmt",
      "line": 46,
      "end_line": 46,
      "function": "from_dict",
      "class_name": "Reading",
      "code": "return None",
      "vars_in_scope": [
        "cls",
        "raw",
        "ts",
        "ts_raw"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 50,
      "end_line": 50,
      "function": "__init__",
      "class_name": "Station",
      "code": "def __init__(self, station_id: str, name: str) -> None:",
      "vars_in_scope": [
        "name",
        "self",
        "station_id"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 55,
      "end_line": 55,
      "function": "add_reading",
      "class_name": "Station",
      "code": "def add_reading(self, reading: Reading) -> None:",
      "vars_in_scope": [
        "reading",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 57,
      "end_line": 57,
      "function": "add_reading",
      "class_name": "Station",
      "code": "return",
      "vars_in_scope": [
        "reading",
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 61,
      "end_line": 61,
      "function": "latest",
      "class_name": "Station",
      "code": "def latest(self) -> Optional[Reading]:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 63,
      "end_line": 63,
      "function": "latest",
      "class_name": "Station",
      "code": "return None",
      "vars_in_scope": [
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "return_stmt",
      "line": 64,
      "end_line": 64,
      "function": "latest",
      "class_name": "Station",
      "code": "return self._readings[-1]",
      "vars_in_scope": [
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 66,
      "end_line": 66,
      "function": "average_temperature",
      "class_name": "Station",
      "code": "def average_temperature(self, recent_minutes: int = 60) -> float:",
      "vars_in_scope": [
        "recent_minutes",
        "recents",
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 69,
      "end_line": 69,
      "function": "average_temperature",
      "class_name": "Station",
      "code": "return 0.0",
      "vars_in_scope": [
        "recent_minutes",
        "recents",
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "return_stmt",
      "line": 70,
      "end_line": 70,
      "function": "average_temperature",
      "class_name": "Station",
      "code": "return sum(recents) / len(recents)",
      "vars_in_scope": [
        "recent_minutes",
        "recents",
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 72,
      "end_line": 72,
      "function": "to_dict",
      "class_name": "Station",
      "code": "def to_dict(self) -> Dict[str, Any]:",
      "vars_in_scope": [
        "self"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 73,
      "end_line": 73,
      "function": "to_dict",
      "class_name": "Station",
      "code": "return {'station_id': self.station_id, 'name': self.name, 'readings': [r.to_dict() for r in self._readings]}",
      "vars_in_scope": [
        "self"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 80,
      "end_line": 80,
      "function": "from_dict",
      "class_name": "Station",
      "code": "def from_dict(cls, raw: Dict[str, Any]) -> \"Station\":",
      "vars_in_scope": [
        "cls",
        "r",
        "raw",
        "station"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 89,
      "end_line": 89,
      "function": "from_dict",
      "class_name": "Station",
      "code": "return station",
      "vars_in_scope": [
        "cls",
        "r",
        "raw",
        "station"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 93,
      "end_line": 93,
      "function": "__init__",
      "class_name": "WeatherClient",
      "code": "def __init__(self, base_url: str, timeout: int = 5) -> None:",
      "vars_in_scope": [
        "base_url",
        "self",
        "timeout"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "func_entry",
      "line": 97,
      "end_line": 97,
      "function": "_url",
      "class_name": "WeatherClient",
      "code": "def _url(self, station_id: str) -> str:",
      "vars_in_scope": [
        "self",
        "station_id"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 98,
      "end_line": 98,
      "function": "_url",
      "class_name": "WeatherClient",
      "code": "return f'{self.base_url}/stations/{station_id}.json'",
      "vars_in_scope": [
        "self",
        "station_id"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 100,
      "end_line": 100,
      "function": "fetch_station_data",
      "class_name": "WeatherClient",
      "code": "def fetch_station_data(self, station_id: str) -> Optional[Dict[str, Any]]:",
      "vars_in_scope": [
        "data",
        "req",
        "self",
        "station_id",
        "url"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 102,
      "end_line": 102,
      "function": "fetch_station_data",
      "class_name": "WeatherClient",
      "code": "return None",
      "vars_in_scope": [
        "data",
        "req",
        "self",
        "station_id",
        "url"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "return_stmt",
      "line": 108,
      "end_line": 108,
      "function": "fetch_station_data",
      "class_name": "WeatherClient",
      "code": "return json.loads(data.decode('utf-8'))",
      "vars_in_scope": [
        "data",
        "req",
        "self",
        "station_id",
        "url"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "exception_handler_entry",
      "line": 109,
      "end_line": 109,
      "function": "fetch_station_data",
      "class_name": "WeatherClient",
      "code": "except ...",
      "vars_in_scope": [
        "data",
        "req",
        "self",
        "station_id",
        "url"
      ],
      "why": "exception handler enry",
      "severity_hint": "ERROR"
    },
    {
      "kind": "return_stmt",
      "line": 110,
      "end_line": 110,
      "function": "fetch_station_data",
      "class_name": "WeatherClient",
      "code": "return None",
      "vars_in_scope": [
        "data",
        "req",
        "self",
        "station_id",
        "url"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 113,
      "end_line": 113,
      "function": "load_station",
      "class_name": null,
      "code": "def load_station(path: Path) -> Station:",
      "vars_in_scope": [
        "path",
        "raw"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 117,
      "end_line": 117,
      "function": "load_station",
      "class_name": null,
      "code": "return Station.from_dict(raw)",
      "vars_in_scope": [
        "path",
        "raw"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "exception_handler_entry",
      "line": 118,
      "end_line": 118,
      "function": "load_station",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "path",
        "raw"
      ],
      "why": "exception handler enry",
      "severity_hint": "ERROR"
    },
    {
      "kind": "return_stmt",
      "line": 119,
      "end_line": 119,
      "function": "load_station",
      "class_name": null,
      "code": "return Station(station_id='local', name='Local Station')",
      "vars_in_scope": [
        "path",
        "raw"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 122,
      "end_line": 122,
      "function": "save_station",
      "class_name": null,
      "code": "def save_station(path: Path, station: Station) -> None:",
      "vars_in_scope": [
        "path",
        "payload",
        "station",
        "tmp"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "exception_handler_entry",
      "line": 129,
      "end_line": 129,
      "function": "save_station",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "path",
        "payload",
        "station",
        "tmp"
      ],
      "why": "exception handler enry",
      "severity_hint": "ERROR"
    },
    {
      "kind": "exception_handler_entry",
      "line": 133,
      "end_line": 133,
      "function": "save_station",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "path",
        "payload",
        "station",
        "tmp"
      ],
      "why": "exception handler enry",
      "severity_hint": "ERROR"
    },
    {
      "kind": "func_entry",
      "line": 137,
      "end_line": 137,
      "function": "summarize_station",
      "class_name": null,
      "code": "def summarize_station(station: Station) -> Dict[str, Any]:",
      "vars_in_scope": [
        "latest",
        "station",
        "temps"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 140,
      "end_line": 140,
      "function": "summarize_station",
      "class_name": null,
      "code": "return {'station_id': station.station_id, 'name': station.name, 'count': 0}",
      "vars_in_scope": [
        "latest",
        "station",
        "temps"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "return_stmt",
      "line": 142,
      "end_line": 142,
      "function": "summarize_station",
      "class_name": null,
      "code": "return {'station_id': station.station_id, 'name': station.name, 'count': len(station._readings), 'avg_temp_all': sum(temps) / len(temps) if temps else 0.0, 'avg_temp_recent': station.average_temperature(60), 'latest_temp': latest.temperature}",
      "vars_in_scope": [
        "latest",
        "station",
        "temps"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 152,
      "end_line": 152,
      "function": "merge_remote",
      "class_name": null,
      "code": "def merge_remote(station: Station, remote_raw: Optional[Dict[str, Any]]) -> int:",
      "vars_in_scope": [
        "added",
        "existing_times",
        "remote",
        "remote_raw",
        "station"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 154,
      "end_line": 154,
      "function": "merge_remote",
      "class_name": null,
      "code": "return 0",
      "vars_in_scope": [
        "added",
        "existing_times",
        "remote",
        "remote_raw",
        "station"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "return_stmt",
      "line": 162,
      "end_line": 162,
      "function": "merge_remote",
      "class_name": null,
      "code": "return added",
      "vars_in_scope": [
        "added",
        "existing_times",
        "remote",
        "remote_raw",
        "station"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 165,
      "end_line": 165,
      "function": "simulate_station",
      "class_name": null,
      "code": "def simulate_station(station: Station, steps: int = 3) -> List[Reading]:",
      "vars_in_scope": [
        "base_hum",
        "base_temp",
        "history",
        "r",
        "station",
        "steps"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 178,
      "end_line": 178,
      "function": "simulate_station",
      "class_name": null,
      "code": "return history",
      "vars_in_scope": [
        "base_hum",
        "base_temp",
        "history",
        "r",
        "station",
        "steps"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 181,
      "end_line": 181,
      "function": "filter_hot_readings",
      "class_name": null,
      "code": "def filter_hot_readings(station: Station, threshold: float = 30.0) -> List[Reading]:",
      "vars_in_scope": [
        "station",
        "threshold"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "return_stmt",
      "line": 182,
      "end_line": 182,
      "function": "filter_hot_readings",
      "class_name": null,
      "code": "return [r for r in station._readings if r.temperature >= threshold]",
      "vars_in_scope": [
        "station",
        "threshold"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "func_entry",
      "line": 185,
      "end_line": 185,
      "function": "main",
      "class_name": null,
      "code": "def main(data_dir: str = \"data\", base_url: str = \"\") -> int:",
      "vars_in_scope": [
        "base",
        "base_url",
        "client",
        "data_dir",
        "remote",
        "station",
        "station_path",
        "summary",
        "summary_path"
      ],
      "why": "function entry",
      "severity_hint": "DEBUG"
    },
    {
      "kind": "exception_handler_entry",
      "line": 202,
      "end_line": 202,
      "function": "main",
      "class_name": null,
      "code": "except ...",
      "vars_in_scope": [
        "base",
        "base_url",
        "client",
        "data_dir",
        "remote",
        "station",
        "station_path",
        "summary",
        "summary_path"
      ],
      "why": "exception handler enry",
      "severity_hint": "ERROR"
    },
    {
      "kind": "return_stmt",
      "line": 203,
      "end_line": 203,
      "function": "main",
      "class_name": null,
      "code": "return 1",
      "vars_in_scope": [
        "base",
        "base_url",
        "client",
        "data_dir",
        "remote",
        "station",
        "station_path",
        "summary",
        "summary_path"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    },
    {
      "kind": "return_stmt",
      "line": 206,
      "end_line": 206,
      "function": "main",
      "class_name": null,
      "code": "return 0",
      "vars_in_scope": [
        "base",
        "base_url",
        "client",
        "data_dir",
        "remote",
        "station",
        "station_path",
        "summary",
        "summary_path"
      ],
      "why": "return statement",
      "severity_hint": "INFO"
    }
  ]
}